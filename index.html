<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BharatVerse - Call Me</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <main class="home">
    <h1>ðŸ“± Welcome to Call Me</h1>
    <p>Smart calling, Bharat powered ðŸ‡®ðŸ‡³</p>
    <a href="dashboard.html" class="btn">Go to Dashboard</a>
  </main>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>

<script>
  let deferredPrompt;

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;

    const installBtn = document.createElement('button');
    installBtn.textContent = "ðŸ“¥ Install App";
    installBtn.style = "position:fixed; bottom:20px; right:20px; background:#1a237e; color:white; border:none; padding:12px 16px; border-radius:5px; cursor:pointer; z-index:1000;";
    document.body.appendChild(installBtn);

    installBtn.addEventListener('click', () => {
      installBtn.style.display = 'none';
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then(choiceResult => {
        if (choiceResult.outcome === 'accepted') {
          console.log('User accepted install');
        } else {
          console.log('User dismissed install');
        }
        deferredPrompt = null;
      });
    });
  });
</script>

</body>
</html>
